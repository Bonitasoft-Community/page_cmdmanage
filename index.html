<!doctype html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <title>Command Dashboard</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="pageResource?page=custompage_cmdmanage&location=style/animate.css" />
    <link rel="stylesheet" href="pageResource?page=custompage_cmdmanage&location=style/bootstrap.min.css">
	<link rel="stylesheet" href="pageResource?page=custompage_cmdmanage&location=style/main.css">
</head>

<style>
.Loading {
    display: inline-block;
    vertical-align: middle;
    background-position: center;
    background:no-repeat;
    background-image: url('data:image/gif;base64,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');
    width:20px;
    height:20px;
    margin-top:6px;
    margin-right:7px;
}
</style>
<body ng-app="bonitacommands">

<div class="container" >
<h1>Commands</h1>
<div class="col-lg-12" ng-controller="CommandsController as ctrl">

	<ul class="nav nav-tabs"  ng-class="{'nav-stacked': vertical, 'nav-justified': justified}" ng-transclude>

		<li ng-class="{active: active, disabled: false}" id="form-tab" heading="All" active="true" title="Custom Command" 
			select="ctrl.navbaractiv == 'all'" 
			class="{{ctrl.getNavClass('CUSTOMCMD')}}" style="">
			  <a ng-click="ctrl.navbaractiv = 'CUSTOMCMD'" tab-heading-transclude="" class="ng-binding">Custom Command</a>
		</li>
		<li ng-class="{active: active, disabled: false}" id="form-tab" heading="My plaform" active="true" title="System commands" 
			select="ctrl.navbaractiv == 'SYSTEMCMD'" 
			class="{{ctrl.getNavClass('SYSTEMCMD')}}" style="">
			  <a  ng-click="ctrl.navbaractiv='SYSTEMCMD'" tab-heading-transclude="" class="ng-binding">System Command</a>
		</li>
		<li ng-class="{active: active, disabled: false}" id="form-tab" heading="Update" active="true" title="Deploy a new command" 
			select="ctrl.navbaractiv == 'DEPLOYCMD'" class="{{ctrl.getNavClass('DEPLOYCMD')}}" style="">
			  <a ng-click="ctrl.navbaractiv = 'DEPLOYCMD'" tab-heading-transclude="" class="ng-binding">Deploy</a>
		</li>
		<li ng-class="{active: active, disabled: false}" id="form-tab" heading="New" active="true" title="Call a command" 
			select="ctrl.navbaractiv == 'CALLCMD'" class="{{ctrl.getNavClass('CALLCMD')}}" style="">
			  <a  ng-click="ctrl.navbaractiv = 'CALLCMD'" tab-heading-transclude="" class="ng-binding">Call a command</a>
		</li>
	</ul>
	 
	 <!-- ************************************************************  -->
	 <!-- Custom Command												-->
	 <!-- ************************************************************  -->
	<div class="panel panel-primary" ng-show="ctrl.navbaractiv === 'CUSTOMCMD'">
		<div class="panel-body">
			<div ng-show="ctrl.inprogress">
					<span class="Loading">.</span>
					Please wait, collect in progress
			</div>
			<a class="btn btn-primary btn-xs panel-top-right-button" ng-click="ctrl.refresh()" title="Refresh"><span class="glyphicon glyphicon-refresh"></span></span></a>
			
				<table class="table table-striped table-hover table-condensed" style="border:5px">
					<tr>
						<th style="background-color: #18bc9c;color: #ffffff;">&nbsp;</th>
						<th style="background-color: #18bc9c;color: #ffffff;">Commands</th>
						<th style="background-color: #18bc9c;color: #ffffff;">&nbsp;</th>
					</tr>
					<tbody>
					<tr ng-repeat="cmd in ctrl.listcmdcustom track by $index">
					   <td>
							<a ng-click="ctrl.undeployCommand(cmd.id)" title="Undeploy"><img src="pageResource?page=custompage_cmdmanage&location=img/ico-delete.gif"></a>
						</td>
						<td>(<i>{{cmd.id}})
							<span style="font-size:20px;color:#007DB3">{{cmd.name}}&nbsp;</span>{{cmd.issystemcommandlabel}}<p>
							{{cmd.description}}<p>
							{{cmd.implementation}}
						</td>
						<td>
							<button class="btn btn-primary" ng-click="ctrl.callcmd.id=cmd.id; ctrl.navbaractiv='CALLCMD'">Call</button>
						</td>
					</tr>
					</tbody>
				</table>
				<pagination-container></pagination-container>

			<h4 ng-hide="ctrl.listcmdcustom.length > 0">No available command for the moment.</h4>
		</div>
	</div>
	
	 <!-- ************************************************************  -->
	 <!-- System Command												-->
	 <!-- ************************************************************  -->
	<div class="panel panel-primary" ng-show="ctrl.navbaractiv === 'SYSTEMCMD'">
		<div class="panel-body">
			<div ng-show="ctrl.inprogress">
					<span class="Loading">.</span>
					Please wait, collect in progress
			</div>
			<a class="btn btn-primary btn-xs panel-top-right-button" ng-click="ctrl.refresh()" title="Refresh"><span class="glyphicon glyphicon-refresh"></span></span></a>
			
				<table class="table table-striped table-hover table-condensed">
					<thead>
					<tr>
						<th style="background-color: #18bc9c;color: #ffffff;">Commands</th>
					</tr>
					</thead>
					<tbody>
					<tr ng-repeat="cmd in ctrl.listcmdsystem track by $index">
						<td>(<i>{{cmd.id}})
							<span style="font-size:20px;color:#007DB3">{{cmd.name}}&nbsp;</span>{{cmd.issystemcommandlabel}}<p>
						{{cmd.description}}<p>
						{{cmd.implementation}}
					</tr>
				</table>
				<pagination-container></pagination-container>

			<h4 ng-hide="ctrl.listcmdsystem.length > 0">No available command for the moment.</h4>
		</div>
	</div>

	 <!-- ************************************************************  -->
	 <!-- Deploy a Command												-->
	 <!-- ************************************************************  -->

	<div class="panel panel-primary" ng-show="ctrl.navbaractiv === 'DEPLOYCMD'">
		<div class="panel-body">
			<div ng-show="ctrl.inprogress">
					<span class="Loading">.</span>
					Please wait, collect in progress
			</div>
		 <form name="myForm" ng-submit="ctrl.deployCommand()">
			<table>
			
				<tr><td>Name</td>	<td><input id="cmdName" type="text" ng-model="ctrl.cmd.name"  /></td></tr>
				<tr><td></td>		<td><span style="font-size:12px;color:#007DB3">Give a name to the command</span></td></tr>
				<tr><td>Class</td>	<td><input id="cmdClass" type="text" ng-model="ctrl.cmd.classname" size="40" maxlength="100"/></td></tr>
				<tr><td></td>		<td><span style="font-size:12px;color:#007DB3">org.bonitasoft.command.ChangeTimer</span></td></tr>
				<tr><td>Description</td><td><input id="cmdDescription" type="text" ng-model="ctrl.cmd.description" /></td></tr>
				<tr><td></td>		<td><span style="font-size:12px;color:#007DB3">Give the description for an administrator</span></td></tr>
				<tr><td>JarPath</td><td>	<input type="file" ng-file-select="ctrl.onFileSelect($files)" multiple></td></tr>
				<tr><td></td>		<td><span style="font-size:12px;color:#007DB3">Upload all JAR files</span></td></tr>
			</table>
			JarFile=[{{ctrl.cmd.serverjardependenciesfilename}}]
			<!-- original <a class="btn btn-info btn-xs" ng-click="deploy.deployCommand(cmdName,cmdClass,cmdDescription,cmdJarpath)" title="Deploy a command"><span class="glyphicon glyphicon-edit">...</span></a>
			-->
			<!-- 
			<div ng-file-drop="ctrl.onFileSelect($files)" ng-file-drag-over-class="optional-css-class-name-or-function"
				ng-show="dropSupported">drop files here</div>
			 -->
				<p>
			
				<button class="btn btn-info" title="Deploy a command" value="Deploy" ng-disable="ctrl.inprogress">Deploy</button><p>
				<div ng-show="ctrl.errormessage.length>0" class="alert alert-danger">{{ctrl.errormessage}}</div>
				<div ng-show="ctrl.message.length>0" class="alert alert-success")>{{ctrl.message}}</div>
				
			</form>
		</div>
	</div>

	 <!-- ************************************************************  -->
	 <!-- Call a Command												-->
	 <!-- ************************************************************  -->
	
	<div class="panel panel-primary" ng-show="ctrl.navbaractiv === 'CALLCMD'">
		<div class="panel-body">
			<div ng-show="ctrl.inprogress">
					<span class="Loading">.</span>
					Please wait, work in progress
			</div>
			<table>
			
				<tr><td>Command id</td>	<td><input type="text" ng-model="ctrl.callcmd.id"  /></td></tr>
				<tr><td></td>		<td><span style="font-size:12px;color:#007DB3">Command id</span></td></tr>

			</table>
			
			<table>
				<tr><td colspan="2">Parameters<br>
					<textarea type="text" ng-model="ctrl.callcmd.parameters" rows="5" cols="50" maxlength="200"></textarea><br>
					<span style="font-size:12px;color:#007DB3">parameters (JSON format)</span>
					</td>
				</tr>					
				<tr>
					<td>
						<button class="btn btn-info" title="Call command" ng-click="ctrl.callcommand()" ng-disable="ctrl.inprogress">Call</button><br>
					</td><td>
						<span style="font-size:12px;color:#007DB3">Call the command with parameters</span>
					</td>
				</tr><tr>
					<td>
						<button class="btn btn-info" title="Ping the command" ng-click="ctrl.callping()" ng-disable="ctrl.inprogress">Ping</button><br>
					</td><td>
						<span style="font-size:12px;color:#007DB3">Call a verb=ping to the command</span>
					</td>
				</tr><tr>
					<td>
						<button class="btn btn-info" title="Ask help" ng-click="ctrl.callhelp()" ng-disable="ctrl.inprogress">Help</button><br>
					</td><td>
						<span style="font-size:12px;color:#007DB3">Call a verb=help to the command</span>
					</td>
				</tr>
			</table>
				<p>
			
			<div ng-show="ctrl.callerrormessage.length>0" class="alert alert-danger">{{ctrl.callerrormessage}}</div>
			<div ng-show="ctrl.callmessage.length>0" class="alert alert-success")>{{ctrl.callmessage}}</div>
				
			</form>
		</div>
	</div>
	
	
</div>



<!-- Third party dependencies -->

<script src="pageResource?page=custompage_cmdmanage&location=3rd-party/jquery.min.js"></script>

<script src="pageResource?page=custompage_cmdmanage&location=3rd-party/angular.min.js"></script>

<script src="pageResource?page=custompage_cmdmanage&location=3rd-party/angular-resource.min.js"></script>
<script src="pageResource?page=custompage_cmdmanage&location=3rd-party/angular-cookies.min.js"></script>

<script src="pageResource?page=custompage_cmdmanage&location=3rd-party/bootstrap/js/bootstrap.min.js"></script>
<script src="pageResource?page=custompage_cmdmanage&location=3rd-party/angular-bootstrap-tpls.min.js"></script>

<script src="pageResource?page=custompage_cmdmanage&location=3rd-party/angular-bootstrap-tpls.min.js"></script>
<script src="pageResource?page=custompage_cmdmanage&location=3rd-party/angular-file-upload.js"></script> 


<!-- Application dependencies -->
<script src="pageResource?page=custompage_cmdmanage&location=dashboardcommand.js&t=@_CURRENTTIMEMILIS_@"></script>

</body>
</html>		